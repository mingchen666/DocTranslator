import{_ as j}from"./nodata-CSuNOf8O.js";import{F as Y}from"./filing-C-NqdXm0.js";import{Q as x,_ as Z,r as f,o as ee,C as te,b as _,d as s,e as o,f as c,j as h,i as g,x as p,L as se,y as l,z as k,g as C,F as E,l as q,h as u,S as I,E as d}from"./index-CsiOcfCR.js";function ae(r){return x({url:"/api/comparison/share",method:"get",params:r})}function oe(r){return x({url:"/api/prompt/share",method:"get",params:r})}function le(r){return x({url:`/api/comparison/copy/${r}`,method:"POST"})}function ne(r){return x({url:`/api/prompt/copy/${r}`,method:"POST"})}function re(r){return x({url:`/api/comparison/fav/${r}`,method:"POST"})}function ie(r){return x({url:`/api/prompt/fav/${r}`,method:"POST"})}const ce={class:"page-center","element-loading-text":"loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.7)"},de={class:"container"},ue={class:"tab_box"},_e={class:"content_box"},pe={class:"flex_box flex-between"},ve={key:0,class:"term_box"},fe={class:"term_li"},ge={class:"flex_box title_box flex-between"},me=["title"],be={class:"des"},he={class:"btn_box flex_box flex-between"},xe={class:"left"},ye={class:"right"},ke=["onClick"],Ce={class:"des_box flex_box flex-between"},we={class:"t_left"},$e={class:"t_right"},Te={key:0,class:"table_box"},Ve={key:1,class:"no_data"},ze={key:2,class:"page_box"},Pe={key:1,class:"prompt_box"},Se={class:"term_li"},Fe={class:"flex_box title_box flex-between"},De=["title"],Le={class:"btn_box flex_box flex-between"},Be={class:"left"},Ne={class:"right"},Oe=["onClick"],je={class:"des_box flex_box flex-between"},Ee={class:"t_left"},qe={class:"t_right"},Ie={class:"text_box"},Me={class:"text"},Ue={key:1,class:"no_data"},Qe={key:2,class:"page_box"},Ae={__name:"square",setup(r){const n=f(!1),w=f([]),S=f(0),$=f([]),F=f(0),i=f("terms"),v=f({order:"latest",page:1,limit:9}),m=f({porder:"latest",page:1,limit:9}),T=async()=>{n.value=!0;try{const a=await ae(v.value);a.code===200&&(w.value=a.data.data)}catch(a){console.error("获取术语表数据时出错:",a)}n.value=!1};function M(){v.value.page=1,T()}function U(){m.value.page=1,V()}function Q(a){v.value.page=a,T()}const V=async()=>{n.value=!0;try{const a=await oe(m.value);a.code===200&&($.value=a.data.data)}catch(a){console.error("获取提示语数据时出错:",a)}n.value=!1};function A(a){v.value.page=a,V()}function G(a){n.value=!0,le(a.id).then(e=>{n.value=!1,e.code==200?(d({message:"添加成功，请到我的术语表中查看",type:"success"}),a.added_count++):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}function H(a){n.value=!0,ne(a.id).then(e=>{n.value=!1,e.code==200?(d({message:"添加成功，请到我的提示语中查看",type:"success"}),a.added_count++):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}function J(a){n.value=!0,re(a.id).then(e=>{n.value=!1,e.code==200?(d({message:"操作成功",type:"success"}),a.faved==1?a.faved=0:a.faved=1):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}function K(a){n.value=!0,ie(a.id).then(e=>{n.value=!1,e.code==200?(d({message:"操作成功",type:"success"}),a.faved==1?a.faved=0:a.faved=1):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}return ee(()=>{T(),V()}),(a,e)=>{const y=p("el-button"),R=p("el-button-group"),b=p("el-option"),D=p("el-select"),L=p("el-table-column"),W=p("el-table"),B=p("el-col"),N=p("el-row"),O=p("el-pagination"),X=se("loading");return te((l(),_("div",ce,[s("div",de,[s("div",ue,[s("div",{class:"tab_li",onClick:e[0]||(e[0]=t=>a.$router.push("/corpus/index"))},"我的"),e[5]||(e[5]=s("div",{class:"tab_li actived"},"广场",-1))]),s("div",_e,[s("div",pe,[o(R,null,{default:c(()=>[o(y,{class:k(i.value=="terms"?"btn_active":"my_button"),plain:i.value!="terms",type:i.value=="terms"?"primary":"",onClick:e[1]||(e[1]=t=>i.value="terms")},{default:c(()=>e[6]||(e[6]=[C(" 术语表 ")])),_:1},8,["class","plain","type"]),o(y,{class:k(i.value=="prompt"?"btn_active":"my_button"),plain:i.value!="prompt",type:i.value=="prompt"?"primary":"",onClick:e[2]||(e[2]=t=>i.value="prompt")},{default:c(()=>e[7]||(e[7]=[C(" 提示语 ")])),_:1},8,["class","plain","type"])]),_:1}),i.value=="terms"?(l(),h(D,{key:0,modelValue:v.value.order,"onUpdate:modelValue":e[3]||(e[3]=t=>v.value.order=t),style:{width:"100px"},onChange:M},{default:c(()=>[o(b,{value:"latest",label:"最新发布"}),o(b,{value:"fav",label:"收藏量"}),o(b,{value:"added",label:"添加量"})]),_:1},8,["modelValue"])):g("",!0),i.value=="prompt"?(l(),h(D,{key:1,modelValue:m.value.porder,"onUpdate:modelValue":e[4]||(e[4]=t=>m.value.porder=t),style:{width:"100px"},onChange:U},{default:c(()=>[o(b,{value:"latest",label:"最新发布"}),o(b,{value:"fav",label:"收藏量"}),o(b,{value:"added",label:"添加量"})]),_:1},8,["modelValue"])):g("",!0)]),i.value=="terms"?(l(),_("div",ve,[w.value.length>0?(l(),h(N,{key:0,gutter:24},{default:c(()=>[(l(!0),_(E,null,q(w.value,(t,z)=>(l(),h(B,{xs:24,sm:8,key:z},{default:c(()=>[s("div",fe,[s("div",ge,[s("div",{class:"t",title:t.title},u(t.title),9,me),s("div",be,u(t.origin_lang)+"-"+u(t.target_lang),1)]),s("div",he,[s("div",xe,[o(y,{type:"text",onClick:P=>G(t)},{default:c(()=>e[8]||(e[8]=[C("加入我的语料库")])),_:2},1032,["onClick"])]),s("div",ye,[s("div",{class:k(t.faved==1?"icon_actived icon_star":"icon_star"),onClick:P=>J(t)},[o(I,{"icon-class":t.faved==1?"favd":"fav"},null,8,["icon-class"])],10,ke)])]),s("div",Ce,[s("div",we,u(t.email)+" 被加入"+u(t.added_count)+"次",1),s("div",$e,u(t.created_at),1)]),t.content.length>0?(l(),_("div",Te,[o(W,{size:"small",data:t.content,style:{width:"100%"},"max-height":"160",border:"","header-cell-class-name":"table_title","tooltip-effect":"light"},{default:c(()=>[o(L,{prop:"origin",label:t.origin_lang,"show-overflow-tooltip":""},null,8,["label"]),o(L,{prop:"target",label:t.target_lang,"show-overflow-tooltip":""},null,8,["label"])]),_:2},1032,["data"])])):g("",!0)])]),_:2},1024))),128))]),_:1})):(l(),_("div",Ve,e[9]||(e[9]=[s("img",{src:j,alt:""},null,-1),s("div",{class:"text"},"暂无数据",-1)]))),S.value>0?(l(),_("div",ze,[o(O,{"current-page":v.value.page,"page-size":v.value.limit,layout:"prev, pager, next, jumper",total:S.value,"pager-count":5,onCurrentChange:Q},null,8,["current-page","page-size","total"])])):g("",!0)])):g("",!0),i.value=="prompt"?(l(),_("div",Pe,[$.value.length>0?(l(),h(N,{key:0,gutter:24},{default:c(()=>[(l(!0),_(E,null,q($.value,(t,z)=>(l(),h(B,{xs:24,sm:8,key:z},{default:c(()=>[s("div",Se,[s("div",Fe,[s("div",{class:"t",title:t.title},u(t.title),9,De)]),s("div",Le,[s("div",Be,[o(y,{type:"text",onClick:P=>H(t)},{default:c(()=>e[10]||(e[10]=[C("加入我的提示语")])),_:2},1032,["onClick"])]),s("div",Ne,[s("div",{class:k(t.faved==1?"icon_actived icon_star":"icon_star"),onClick:P=>K(t)},[o(I,{"icon-class":t.faved==1?"favd":"fav"},null,8,["icon-class"])],10,Oe)])]),s("div",je,[s("div",Ee,u(t.email)+" 被加入"+u(t.added_count)+"次",1),s("div",qe,u(t.created_at),1)]),s("div",Ie,[s("div",Me,u(t.content),1)])])]),_:2},1024))),128))]),_:1})):(l(),_("div",Ue,e[11]||(e[11]=[s("img",{src:j,alt:""},null,-1),s("div",{class:"text"},"暂无数据",-1)]))),F.value>0?(l(),_("div",Qe,[o(O,{"current-page":m.value.page,"page-size":m.value.limit,layout:"prev, pager, next, jumper",total:F.value,"pager-count":5,onCurrentChange:A},null,8,["current-page","page-size","total"])])):g("",!0)])):g("",!0)]),o(Y)])])),[[X,n.value]])}}},Ke=Z(Ae,[["__scopeId","data-v-2915359b"]]);export{Ke as default};
